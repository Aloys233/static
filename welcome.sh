#!/bin/bash
# /usr/local/bin/welcome.sh
# 彩虹渐变大字（新图案，一次性显示，快速打印）

clear

# 彩虹渐变颜色（每行一种颜色即可，更快）
COLORS=(
  "\e[38;2;255;0;0m"     # 红
  "\e[38;2;255;127;0m"   # 橙
  "\e[38;2;255;255;0m"   # 黄
  "\e[38;2;0;255;0m"     # 绿
  "\e[38;2;0;0;255m"     # 蓝
  "\e[38;2;139;0;255m"   # 紫
)
RESET="\e[0m"

# 新大字图案
ASCII_ART=(
"   █████████   ████                               ████████   ████████ "
"  ███░░░░░███ ░░███                              ███░░░░███ ███░░░░███"
" ░███    ░███  ░███   ██████  █████ ████  █████ ░░░    ░███░░░    ░███"
" ░███████████  ░███  ███░░███░░███ ░███  ███░░     ███████    ██████░ "
" ░███░░░░░███  ░███ ░███ ░███ ░███ ░███ ░░█████   ███░░░░    ░░░░░░███"
" ░███    ░███  ░███ ░███ ░███ ░███ ░███  ░░░░███ ███      █ ███   ░███"
" █████   █████ █████░░██████  ░░███████  ██████ ░██████████░░████████ "
"░░░░░   ░░░░░ ░░░░░  ░░░░░░    ░░░░░███ ░░░░░░  ░░░░░░░░░░  ░░░░░░░░  "
"                               ███ ░███                               "
"                              ░░██████                                "
"                               ░░░░░░                                  "
)

# 按行打印，每行不同颜色，快速显示
for i in "${!ASCII_ART[@]}"; do
    color=${COLORS[$((i % ${#COLORS[@]}))]}
    echo -e "${color}${ASCII_ART[$i]}${RESET}"
done

echo ""
echo -e "\e[36m================= System Status =================\e[0m"

CPU=$(top -bn1 | grep "Cpu(s)" | awk '{print $2+$4}')
echo -e "CPU Usage: \e[33m$CPU%\e[0m"

MEM=$(free -h | awk '/Mem:/ {print $3 "/" $2}')
echo -e "Memory Usage: \e[32m$MEM\e[0m"

DISK=$(df -h / | awk 'NR==2 {print $3 "/" $2 " used (" $5 ")"}')
echo -e "Disk Usage: \e[34m$DISK\e[0m"

UPTIME=$(uptime -p)
echo -e "Uptime: \e[35m$UPTIME\e[0m"

echo -e "\e[36m=================================================\e[0m"
